{
  "id": "google-workspace",
  "name": "Google Workspace",
  "version": "1.0.0",
  "description": "Gmail, Sheets, Docs, Drive, and Calendar integration",
  "author": "CO-LLAB",
  "license": "MIT",
  "runtimes": ["python", "node"],
  "mcp": {
    "runtime": "node",
    "entry": "node/src/index.ts",
    "command": "npx",
    "args": ["tsx", "node/src/index.ts"]
  },
  "secrets": [
    {
      "key": "GOOGLE_CREDENTIALS",
      "label": "Google OAuth Credentials",
      "description": "OAuth 2.0 credentials from Google Cloud Console",
      "helpUrl": "https://console.cloud.google.com/apis/credentials",
      "required": true
    }
  ],
  "tools": [
    {
      "name": "account_list",
      "description": "List all configured Google accounts",
      "inputSchema": { "type": "object", "properties": {} }
    },
    {
      "name": "account_switch",
      "description": "Switch to a different Google account",
      "inputSchema": {
        "type": "object",
        "properties": {
          "account": { "type": "string", "description": "Account name (e.g., 'personal', 'work')" }
        },
        "required": ["account"]
      }
    },
    {
      "name": "account_current",
      "description": "Show the currently active Google account",
      "inputSchema": { "type": "object", "properties": {} }
    },
    {
      "name": "gmail_send",
      "description": "Send an email via Gmail",
      "inputSchema": {
        "type": "object",
        "properties": {
          "to": { "type": "string", "description": "Recipient email" },
          "subject": { "type": "string", "description": "Email subject" },
          "body": { "type": "string", "description": "Email body" }
        },
        "required": ["to", "subject", "body"]
      }
    },
    {
      "name": "gmail_search",
      "description": "Search emails in Gmail",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "Gmail search query" },
          "max_results": { "type": "number", "description": "Max results (default 10)" },
          "output": { "type": "string", "description": "Optional file path to save results" }
        },
        "required": ["query"]
      }
    },
    {
      "name": "gmail_draft",
      "description": "Create an email draft",
      "inputSchema": {
        "type": "object",
        "properties": {
          "to": { "type": "string", "description": "Recipient email" },
          "subject": { "type": "string", "description": "Email subject" },
          "body": { "type": "string", "description": "Email body" }
        },
        "required": ["to", "subject", "body"]
      }
    },
    {
      "name": "gmail_get",
      "description": "Get full email content by message ID (includes body text)",
      "inputSchema": {
        "type": "object",
        "properties": {
          "message_id": { "type": "string", "description": "Gmail message ID" },
          "output": { "type": "string", "description": "Optional file path to save email content" }
        },
        "required": ["message_id"]
      }
    },
    {
      "name": "gmail_list_attachments",
      "description": "List attachments in an email without downloading them",
      "inputSchema": {
        "type": "object",
        "properties": {
          "message_id": { "type": "string", "description": "Gmail message ID" }
        },
        "required": ["message_id"]
      }
    },
    {
      "name": "gmail_get_attachment",
      "description": "Download an attachment from an email. Returns text content for text/document files, or saves binary files to disk.",
      "inputSchema": {
        "type": "object",
        "properties": {
          "message_id": { "type": "string", "description": "Gmail message ID" },
          "attachment_id": { "type": "string", "description": "Attachment ID (from gmail_list_attachments)" },
          "filename": { "type": "string", "description": "Original filename (for determining file type)" },
          "output": { "type": "string", "description": "File path to save attachment (required for binary files)" }
        },
        "required": ["message_id", "attachment_id"]
      }
    },
    {
      "name": "gmail_reply",
      "description": "Reply to an email, keeping it in the same thread",
      "inputSchema": {
        "type": "object",
        "properties": {
          "message_id": { "type": "string", "description": "Gmail message ID to reply to" },
          "body": { "type": "string", "description": "Reply body (HTML supported)" },
          "reply_all": { "type": "boolean", "description": "Reply to all recipients (default: false)" }
        },
        "required": ["message_id", "body"]
      }
    },
    {
      "name": "gmail_get_thread",
      "description": "Get all messages in an email thread/conversation",
      "inputSchema": {
        "type": "object",
        "properties": {
          "thread_id": { "type": "string", "description": "Gmail thread ID" },
          "output": { "type": "string", "description": "Optional file path to save thread" }
        },
        "required": ["thread_id"]
      }
    },
    {
      "name": "sheets_read",
      "description": "Read data from a Google Sheet",
      "inputSchema": {
        "type": "object",
        "properties": {
          "spreadsheet_id": { "type": "string", "description": "Spreadsheet ID" },
          "range": { "type": "string", "description": "Cell range (e.g., Sheet1!A1:B10)" },
          "output": { "type": "string", "description": "Optional file path to save as CSV/JSON" }
        },
        "required": ["spreadsheet_id", "range"]
      }
    },
    {
      "name": "sheets_write",
      "description": "Write data to a Google Sheet",
      "inputSchema": {
        "type": "object",
        "properties": {
          "spreadsheet_id": { "type": "string", "description": "Spreadsheet ID" },
          "range": { "type": "string", "description": "Cell range" },
          "values": { "type": "array", "description": "2D array of values" }
        },
        "required": ["spreadsheet_id", "range", "values"]
      }
    },
    {
      "name": "sheets_append",
      "description": "Append rows to a Google Sheet",
      "inputSchema": {
        "type": "object",
        "properties": {
          "spreadsheet_id": { "type": "string", "description": "Spreadsheet ID" },
          "range": { "type": "string", "description": "Sheet name or range" },
          "values": { "type": "array", "description": "2D array of rows" }
        },
        "required": ["spreadsheet_id", "range", "values"]
      }
    },
    {
      "name": "sheets_create",
      "description": "Create a new Google Spreadsheet",
      "inputSchema": {
        "type": "object",
        "properties": {
          "title": { "type": "string", "description": "Spreadsheet title" },
          "sheets": { "type": "array", "description": "Optional array of sheet names to create" }
        },
        "required": ["title"]
      }
    },
    {
      "name": "docs_create",
      "description": "Create a new Google Doc",
      "inputSchema": {
        "type": "object",
        "properties": {
          "title": { "type": "string", "description": "Document title" },
          "content": { "type": "string", "description": "Initial content" }
        },
        "required": ["title"]
      }
    },
    {
      "name": "docs_read",
      "description": "Read content from a Google Doc",
      "inputSchema": {
        "type": "object",
        "properties": {
          "document_id": { "type": "string", "description": "Document ID" },
          "output": { "type": "string", "description": "Optional file path to save as markdown" }
        },
        "required": ["document_id"]
      }
    },
    {
      "name": "docs_insert_image",
      "description": "Insert an image into a Google Doc from a URL",
      "inputSchema": {
        "type": "object",
        "properties": {
          "document_id": { "type": "string", "description": "Document ID" },
          "image_url": { "type": "string", "description": "Public URL of the image to insert" },
          "index": { "type": "number", "description": "Position to insert (default: 1, start of doc)" }
        },
        "required": ["document_id", "image_url"]
      }
    },
    {
      "name": "drive_list",
      "description": "List files in Google Drive",
      "inputSchema": {
        "type": "object",
        "properties": {
          "query": { "type": "string", "description": "Search query" },
          "max_results": { "type": "number", "description": "Max results (default 20)" }
        }
      }
    },
    {
      "name": "drive_upload",
      "description": "Upload a file to Google Drive",
      "inputSchema": {
        "type": "object",
        "properties": {
          "file_path": { "type": "string", "description": "Local file path" },
          "name": { "type": "string", "description": "Name in Drive" },
          "folder_id": { "type": "string", "description": "Destination folder ID" }
        },
        "required": ["file_path"]
      }
    },
    {
      "name": "drive_make_public",
      "description": "Make a Drive file publicly viewable and get a direct URL (useful for embedding images in Docs)",
      "inputSchema": {
        "type": "object",
        "properties": {
          "file_id": { "type": "string", "description": "The file ID to make public" }
        },
        "required": ["file_id"]
      }
    },
    {
      "name": "drive_delete",
      "description": "Delete a file from Google Drive (moves to trash)",
      "inputSchema": {
        "type": "object",
        "properties": {
          "file_id": { "type": "string", "description": "The file ID to delete" }
        },
        "required": ["file_id"]
      }
    },
    {
      "name": "calendar_list",
      "description": "List upcoming calendar events",
      "inputSchema": {
        "type": "object",
        "properties": {
          "days": { "type": "number", "description": "Days to look ahead (default 7)" },
          "max_results": { "type": "number", "description": "Max events (default 20)" }
        }
      }
    },
    {
      "name": "calendar_create",
      "description": "Create a calendar event",
      "inputSchema": {
        "type": "object",
        "properties": {
          "summary": { "type": "string", "description": "Event title" },
          "start": { "type": "string", "description": "Start datetime (ISO format)" },
          "end": { "type": "string", "description": "End datetime (ISO format)" },
          "description": { "type": "string", "description": "Event description" },
          "location": { "type": "string", "description": "Event location" }
        },
        "required": ["summary", "start", "end"]
      }
    },
    {
      "name": "calendar_quick_add",
      "description": "Create event using natural language",
      "inputSchema": {
        "type": "object",
        "properties": {
          "text": { "type": "string", "description": "Natural language event description" }
        },
        "required": ["text"]
      }
    },
    {
      "name": "calendar_delete",
      "description": "Delete a calendar event",
      "inputSchema": {
        "type": "object",
        "properties": {
          "event_id": { "type": "string", "description": "Event ID to delete" }
        },
        "required": ["event_id"]
      }
    }
  ],
  "tags": ["google", "gmail", "sheets", "docs", "drive", "calendar", "email"],
  "category": "productivity",
  "icon": "ðŸ“§"
}
